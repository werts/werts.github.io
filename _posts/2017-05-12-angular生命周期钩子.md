---
layout: post
title: "Angular 生命周期钩子"
excerpt: "Angular 生命周期钩子"
date:   2017-05-12 15:30:38 +0800
category: program
---

### 前言
- 组件和指令都有一个这样的生命周期：创建、更新、销毁

- 每个实现的周期都有一个以ng开头的方法，比如OnInit就有一个ngOnInit的方法

- 钩子调用顺序
  ngOnChanges：首次调用时一定在ngOnInit前
  ngOnInit：第一轮ngChanges后调用，**只调用一次**

  ngDoCheck：变更检测，发生在ngOnChanges和ngOnInit之后

  ngAfterContentInit：在ngDoCheck之后，只适用于组件，且只调用一次

  ngAfterContentChecked：ngAfterContentInit和ngDoCheck之后，只适用于组件，且只调用一次

  ngAfterViewInit：ngAfterContentChecked第一次调用 之后，只调用 一次，且只适用于组件

  ngAfterViewChecked：ngAfterViewInit和ngAfterContentChecked之后，只适用于组件

  ngOndestroy：销毁组件时调用

- 可以不一定使用接口，但是副作用接口让程序更可读，因为angular可以检测到接口钩子方法

- 构造函数和ngOnInit怎么处理

  在构造函数完成后执行ngOnInit，用来处理复杂的逻辑。构造函数不要放过多的逻辑

  数据获取放在ngOnInit中去，不管是HTTP还是假数据

- ngOnDestroy调用

  为了销毁那些不被回收的资源，比如可观察对象和DOM的订阅、定时器等，把逻辑放在这里

### 使用

### 尾巴