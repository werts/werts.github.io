---
layout: post
title:  "insigts－基于d3.js的集合关系库!"
category: program
excerpt: "第一眼看到d3就被d3的强大所吸引，最近正好有个项目要做，在d3下面看到了这个内容，也就是insight.js，在处理关系图上非常有特点，为了防止忘记，在这里记下来。"
tip: "insigts－基于d3.js的集合关系库!"
---

### 前言
前些日子做一款订单实时监控的web appliction时，就在网上各种淘，看到阿里的datav，阿里在2015年做自己做过的监控吧（？），是一个付费的产品，使用React开发的，图形化下生成，看起来比较方便，简单的拖拽，配置数据就可以使用了，但问题在哪里呢，以我的办公电脑而言，配置是有些差，i3的处理器，配合ssd和8g内存，启用了两个窗口进行预览，在运行一段时间后，资源已经严重吃紧，很卡，但是又要做，毕竟要做个可视的应用来展示订单信息。怎么办呢？笔者作为这次项目的开发，就必须得想办法啦，找呗，只有自己开发一个简单点的了。后来看到百度的mapv，基于地图的可视化库，看起还不错，订单可以显示，这个问题是解决了，但是动画看着还没到预期呢，将就用吧，也就在这个时候，额外找到了d3，当然，当时的情况下，也没有使用d3啦，毕竟mapv还是很方便的喽。这次又有机会做数据可视化的web application，为何不试下d3.js呢，当然，不是从零开始，发现d3下面也有很多基于这个开发的库，最主要是，有个看起来很契合我们的业务呢，那就是insight（https://github.com/ignacioola/insights），而且配置超级简单（但是怎么遇到坑了呢？），为了记录下过程，在这里记录下，就当是使用文档啦。

---

### 开始
首先，是下载库，当然很简单的啦，然后包含进基础的js和css就可以了。

### 使用
实例也很简单

```js
var graph = new Insights(el, nodes, links).render();
```

问题在于，不知道怎么确定圈的大小，同时也不知道如何确定连接线的长度，最后发现其实官方的说明好像有点简单，不过也单感谢作者啦，在node配置里就可以决定啦。

另外，如果没有需要的参数的话，在控制台下会看到错误，我之前就是连接的线没有显示出来，后来也是看了下代码才解决了。  

最后，官方文档也是够基本使用的啦，d3.js还有很多应用，当生涩的数据已经不能满足我们的胃口时，我们是不是需要做点什么来呢，是的，图形化的界面很形象，我们是应该多去尝试和使用啦。

### 尾巴
在编程技术发展到今天，已经过了多少个年头了，好多内容我们没有必要造轮子，相反，如果有这样一些零件，可以快速的使用，我们就没有理由去拒绝，当看到d3.js有这么多gallery，还有这么多demo时，这样的库就是一个可以用于生产的库。我们可以使用这些零件来快速构建我们的应用。