---
layout: post
title: "Angular 组件通信"
excerpt: "Angular 组件通信"
date:   2017-05-18 15:30:38 +0800
category: program
---

### 前言

angular使用的组件的开发方式确实带来了不少的便利，但是拆分了组件过后就不得不面临组件通信的问题，官方提供了父与子的通信、子与父的通信、不同组件间的通信等几种方式，因为比较重要，所以在这个文章记录一下。

### 使用

- 使用输入把数据从父组件传入到子组件

  通过在子组件上使用@input来获取父组件上的数据

- 通过setter拦截输入属性变化（不需要使用@input）

- 使用ngOnChanges拦截输入属性变化（不需要使用@input）

- 使用EventEmitter响应子组件的事件

  子组件通过@output暴露一个事件，父组件监听到这个事件

- 在父组件中使用#变量名来获得子组件的一个引用进行通信。

- 上面使用本地变量的还是不够优雅，如果父组件要访问子组件中的成员属性或者成员方法，就要使用@ViewChild把子组件注入到父组件中去

- 父组件和子组件通过服务进行共享通信

### 尾巴

解决了通信问题，组件就可以被优雅的组合在一起，构建一个应用也就是理所当然的事情了。